<path id="toolslib">
<fileset file="${ant.tools}/*.jar" />
<fileset file="${lib.dir}/freemarker*.jar" />
<fileset file="${lib.dir}/dom4j*.jar" />
<fileset file="${lib.dir}/ojdbc14.jar" />
<fileset file="${lib.dir}/dom4j*.jar" />
<fileset file="${lib.dir}/mysql-connector*.jar" />
<fileset file="${lib.dir}/slf4j-api*.jar" />
<fileset file="${lib.dir}/commons-collections*.jar" />
<fileset file="${lib.dir}/commons-logging*.jar" />
</path>

<taskdef name="hibernatetool" classname="org.hibernate.tool.ant.HibernateToolTask" classpathref="toolslib" />

<target name="hibernatecode">
<!-- destdir属性可以在各输出属性中分别指定，这里是全局指定 -->
<hibernatetool destdir="${src.dir}" >
	<!-- 设置好classes才能确保自定义类型正常 -->
	<classpath>
		<path location="${basedir}/build/classes"></path>
	</classpath>
	<!-- packagename表生成文件的存放包名 -->
	<jdbcconfiguration propertyfile="${ant.tools}/hibernate.properties" revengfile="${src.dir}/hibernate.reveng.xml" packagename="${base_package}" />
	<hbm2hbmxml />
	<hbm2java jdk5="true" />
	<!--
	<hbm2dao override="false" tk="true" />
	<hbm2cfgxml ejb3="false" />
	-->
</hibernatetool>
</target>